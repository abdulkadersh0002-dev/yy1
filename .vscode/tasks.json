{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "ðŸ§° Check Node.js + npm",
      "type": "process",
      "command": "node",
      "args": ["scripts/ci/check-node-npm.mjs"],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "new"
      }
    },
    {
      "label": "ðŸ“¦ Install Dependencies",
      "type": "process",
      "command": "npm.cmd",
      "args": ["ci"],
      "dependsOn": ["ðŸ§° Check Node.js + npm"],
      "dependsOrder": "sequence",
      "group": "build",
      "presentation": {
        "reveal": "always",
        "panel": "new"
      }
    },
    {
      "label": "ðŸš€ Start Server + Dashboard",
      "type": "process",
      "command": "npm.cmd",
      "args": ["run", "start:all"],
      "dependsOn": ["ðŸ§° Check Node.js + npm"],
      "dependsOrder": "sequence",
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "isBackground": true
    },
    {
      "label": "ðŸ›°ï¸ Watch Auto-Trading Events (ws)",
      "type": "shell",
      "command": "node",
      "args": ["scripts/diagnostics/watch-auto-trading.mjs", "http://127.0.0.1:4101"],
      "isBackground": true,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "group": "test"
    },
    {
      "label": "ðŸš€ Start Server + Dashboard (NO DB/NO KEYS - synthetic dev)",
      "type": "process",
      "command": "npm.cmd",
      "args": ["run", "start:all", "--", "--preset", "synthetic"],
      "dependsOn": ["ðŸ§° Check Node.js + npm"],
      "dependsOrder": "sequence",
      "group": "build",
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "isBackground": true
    },
    {
      "label": "ðŸš€ Start Server + Dashboard (ALL symbols)",
      "type": "process",
      "command": "npm.cmd",
      "args": ["run", "start:all", "--", "--preset", "all_symbols"],
      "dependsOn": ["ðŸ§° Check Node.js + npm"],
      "dependsOrder": "sequence",
      "group": "build",
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "isBackground": true
    },
    {
      "label": "ðŸš€ Start Server + Dashboard (ALL symbols + Full Scan)",
      "type": "process",
      "command": "npm.cmd",
      "args": ["run", "start:all", "--", "--preset", "all_symbols_full_scan"],
      "dependsOn": ["ðŸ§° Check Node.js + npm"],
      "dependsOrder": "sequence",
      "group": "build",
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "isBackground": true
    },
    {
      "label": "ðŸš€ Start Server + Dashboard (ALL symbols + AUTO trading)",
      "type": "process",
      "command": "npm.cmd",
      "args": ["run", "start:all", "--", "--preset", "all_symbols_auto_trading"],
      "dependsOn": ["ðŸ§° Check Node.js + npm", "ðŸ›°ï¸ Watch Auto-Trading Events (ws)"],
      "dependsOrder": "parallel",
      "group": "build",
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "isBackground": true
    },
    {
      "label": "ðŸš€ Start Server + Dashboard (SMART STRONG MT5 auto)",
      "type": "process",
      "command": "npm.cmd",
      "args": ["run", "start:all", "--", "--preset", "smart_strong_mt5_auto"],
      "dependsOn": ["ðŸ§° Check Node.js + npm"],
      "dependsOrder": "sequence",
      "group": "build",
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "isBackground": true
    },
    {
      "label": "ðŸš€ Start Server + Dashboard (SMART STRONG MT5 auto + more entries)",
      "type": "process",
      "command": "npm.cmd",
      "args": ["run", "start:all", "--", "--preset", "smart_strong_mt5_more_entries"],
      "dependsOn": ["ðŸ§° Check Node.js + npm"],
      "dependsOrder": "sequence",
      "group": "build",
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "isBackground": true
    },
    {
      "label": "ðŸš€ Start Server + Dashboard (FX+Metals STRONG AUTO v2)",
      "type": "process",
      "command": "npm.cmd",
      "args": ["run", "start:all", "--", "--preset", "fx_metals_strong_auto_v2"],
      "dependsOn": ["ðŸ§° Check Node.js + npm"],
      "dependsOrder": "sequence",
      "group": "build",
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "isBackground": true
    },
    {
      "label": "ðŸš€ Start Server + Dashboard (FX+Metals ACTIVE AUTO - more trades)",
      "type": "process",
      "command": "npm.cmd",
      "args": ["run", "start:all", "--", "--preset", "fx_metals_active_auto_more_trades"],
      "dependsOn": ["ðŸ§° Check Node.js + npm"],
      "dependsOrder": "sequence",
      "group": "build",
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "isBackground": true
    },
    {
      "label": "ðŸš€ Start Server + Dashboard (FX+Metals SMART AUTO - strong trades)",
      "type": "process",
      "command": "npm.cmd",
      "args": ["run", "start:all", "--", "--preset", "fx_metals_smart_auto_strong_trades"],
      "dependsOn": ["ðŸ§° Check Node.js + npm"],
      "dependsOrder": "sequence",
      "group": "build",
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "isBackground": true
    },
    {
      "label": "ðŸ§ª Run Tests",
      "type": "process",
      "command": "npm.cmd",
      "args": ["test"],
      "dependsOn": ["ðŸ§° Check Node.js + npm"],
      "dependsOrder": "sequence",
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "new"
      }
    },
    {
      "label": "ðŸ”Ž Auto-Trading Status (/api/status)",
      "type": "shell",
      "command": "curl.exe",
      "args": ["-s", "http://127.0.0.1:4101/api/status"],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "new"
      }
    },
    {
      "label": "ðŸ” Run Linter",
      "type": "process",
      "command": "npm.cmd",
      "args": ["run", "lint"],
      "dependsOn": ["ðŸ§° Check Node.js + npm"],
      "dependsOrder": "sequence",
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "new"
      },
      "problemMatcher": ["$eslint-stylish"]
    },
    {
      "label": "ðŸ”§ Fix Linting Issues",
      "type": "process",
      "command": "npm.cmd",
      "args": ["run", "lint:fix"],
      "dependsOn": ["ðŸ§° Check Node.js + npm"],
      "dependsOrder": "sequence",
      "group": "build",
      "presentation": {
        "reveal": "always",
        "panel": "new"
      }
    },
    {
      "label": "âœ¨ Format Code",
      "type": "process",
      "command": "npm.cmd",
      "args": ["run", "format:write"],
      "dependsOn": ["ðŸ§° Check Node.js + npm"],
      "dependsOrder": "sequence",
      "group": "build",
      "presentation": {
        "reveal": "silent",
        "panel": "new"
      }
    },
    {
      "label": "ðŸ”’ Security Audit",
      "type": "process",
      "command": "npm.cmd",
      "args": ["audit"],
      "dependsOn": ["ðŸ§° Check Node.js + npm"],
      "dependsOrder": "sequence",
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "new"
      }
    },
    {
      "label": "ðŸ§¹ Free Port 4101",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-File",
        "scripts/free-ports.ps1",
        "-Ports",
        "4101"
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "build"
    },
    {
      "label": "ðŸ”Ž Check Backend Health + EA Quotes (fixed)",
      "type": "shell",
      "command": "cmd",
      "args": [
        "/c",
        "curl -s -o NUL -w \"heartbeat:%{http_code}\\n\" http://127.0.0.1:4101/api/health/heartbeat && curl -s -o NUL -w \"quotes:%{http_code}\\n\" \"http://127.0.0.1:4101/api/broker/bridge/mt5/market/quotes?maxAgeMs=30000\""
      ],
      "isBackground": false,
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "new"
      },
      "group": "test"
    },
    {
      "label": "ðŸ”Ž EA Bridge Status (mt5)",
      "type": "shell",
      "command": "cmd",
      "args": ["/c", "curl -s \"http://127.0.0.1:4101/api/broker/bridge/status?broker=mt5\""],
      "isBackground": false,
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "new"
      },
      "group": "test"
    },
    {
      "label": "ðŸ”Ž EA Bridge Status (mt5, 10m)",
      "type": "shell",
      "command": "cmd",
      "args": [
        "/c",
        "curl -s \"http://127.0.0.1:4101/api/broker/bridge/status?broker=mt5^&maxAgeMs=600000\""
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ”Ž EA Agent Config (mt5)",
      "type": "shell",
      "command": "cmd",
      "args": ["/c", "curl -s \"http://127.0.0.1:4101/api/broker/bridge/mt5/agent/config\""],
      "isBackground": false,
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "new"
      },
      "group": "test"
    },
    {
      "label": "ðŸ”Ž EA Bridge Statistics",
      "type": "shell",
      "command": "cmd",
      "args": ["/c", "curl -s \"http://127.0.0.1:4101/api/broker/bridge/statistics\""],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ”Ž Auto-Trading Readiness (mt5)",
      "type": "shell",
      "command": "cmd",
      "args": ["/c", "curl -s \"http://127.0.0.1:4101/api/auto-trading/readiness?broker=mt5\""],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ”Ž Check EA Candles (BTCEUR M15)",
      "type": "shell",
      "command": "cmd",
      "args": [
        "/c",
        "curl -s -i \"http://127.0.0.1:4101/api/broker/bridge/mt5/market/candles?symbol=BTCEUR^&timeframe=M15^&limit=5^&maxAgeMs=0\""
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§­ Audit Tape Signals (signal/get + reasons)",
      "type": "shell",
      "command": "node",
      "args": [
        "scripts/diagnostics/audit-tape-signals.mjs",
        "--baseUrl",
        "http://127.0.0.1:4101",
        "--broker",
        "mt5",
        "--max",
        "40"
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "new"
      }
    },
    {
      "label": "ðŸ›‘ Kill Port 4101 Listener",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-File",
        "scripts/free-ports.ps1",
        "-Ports",
        "4101"
      ],
      "isBackground": false,
      "group": "build"
    },
    {
      "label": "ðŸ§¹ Free Ports 4101+4173",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-File",
        "scripts/free-ports.ps1",
        "-Ports",
        "4101,4173"
      ],
      "isBackground": false,
      "group": "build"
    },
    {
      "label": "ðŸš€ Start Backend (EA-only real)",
      "type": "shell",
      "command": "cmd",
      "args": [
        "/c",
        "set PORT=4101&& set REQUIRE_REALTIME_DATA=true&& set ALLOW_SYNTHETIC_DATA=false&& npm start"
      ],
      "isBackground": true,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "problemMatcher": [],
      "group": "build"
    },
    {
      "label": "ðŸš€ Start Backend (EA-only real + ALL symbols)",
      "type": "shell",
      "command": "cmd",
      "args": [
        "/c",
        "set PORT=4101&& set REQUIRE_REALTIME_DATA=true&& set ALLOW_SYNTHETIC_DATA=false&& set ALLOW_ALL_SYMBOLS=true&& npm start"
      ],
      "isBackground": true,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "problemMatcher": [],
      "group": "build"
    },
    {
      "label": "ðŸš€ Start Dashboard (dev)",
      "type": "shell",
      "command": "cmd",
      "args": [
        "/c",
        "set VITE_DEV_PROXY_TARGET=http://127.0.0.1:4101&& set VITE_API_BASE_URL=http://127.0.0.1:4101&& npm --prefix clients\\neon-dashboard run dev -- --host 127.0.0.1 --port 4173"
      ],
      "isBackground": true,
      "problemMatcher": [],
      "group": "build"
    },
    {
      "label": "ðŸš€ Start Backend (4101)",
      "type": "shell",
      "command": "cmd",
      "args": ["/c", "set PORT=4101&& npm start"],
      "isBackground": true,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "group": "build"
    },
    {
      "label": "ðŸš€ Start Backend (4101, NO DB/NO KEYS - synthetic dev)",
      "type": "shell",
      "command": "cmd",
      "args": [
        "/c",
        "set PORT=4101&& set ALLOW_SYNTHETIC_DATA=true&& set REQUIRE_REALTIME_DATA=false&& set NEWS_RSS_ONLY=true&& npm start"
      ],
      "isBackground": true,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "group": "build"
    },
    {
      "label": "ðŸš€ Start Backend (4101, legacy WAIT_MONITOR flag)",
      "type": "shell",
      "command": "cmd",
      "args": ["/c", "set PORT=4101&& npm start"],
      "isBackground": true,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "group": "build"
    },
    {
      "label": "ðŸ§ª Temp Start Backend 4101 (synthetic)",
      "type": "shell",
      "command": "cmd",
      "args": [
        "/c",
        "set PORT=4101&& set ALLOW_SYNTHETIC_DATA=true&& set REQUIRE_REALTIME_DATA=false&& set NEWS_RSS_ONLY=true&& npm.cmd start"
      ],
      "isBackground": true,
      "problemMatcher": [],
      "group": "build"
    },
    {
      "label": "ðŸ§¹ Temp Free Port 4101",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-File",
        "scripts/free-ports.ps1",
        "-Ports",
        "4101"
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "build"
    },
    {
      "label": "ðŸ§ª Temp Who Uses 4101",
      "type": "shell",
      "command": "cmd",
      "args": ["/c", "netstat -ano | findstr \":4101\""],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp 4101 LISTEN",
      "type": "shell",
      "command": "cmd",
      "args": ["/c", "netstat -ano | findstr \":4101\" | findstr LISTEN"],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp 4101 LISTEN (DE)",
      "type": "shell",
      "command": "cmd",
      "args": ["/c", "netstat -ano | findstr \":4101\" | findstr \"ABH\""],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp Start Backend 4102 (synthetic)",
      "type": "shell",
      "command": "cmd",
      "args": [
        "/c",
        "set PORT=4102&& set ALLOW_SYNTHETIC_DATA=true&& set REQUIRE_REALTIME_DATA=false&& set NEWS_RSS_ONLY=true&& npm.cmd start"
      ],
      "isBackground": true,
      "problemMatcher": [],
      "group": "build"
    },
    {
      "label": "ðŸ§ª Temp Healthz 4102",
      "type": "shell",
      "command": "cmd",
      "args": [
        "/c",
        "curl -s -o NUL -w \"http:%{http_code}\\n\" http://127.0.0.1:4102/api/healthz"
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp POST EA Bars (4102)",
      "type": "shell",
      "command": "cmd",
      "args": [
        "/c",
        "curl -s -i -X POST \"http://127.0.0.1:4102/api/broker/bridge/mt5/market/bars\" -H \"Content-Type: application/json\" -d \"{\\\"broker\\\":\\\"mt5\\\",\\\"symbol\\\":\\\"EURUSD\\\",\\\"timeframe\\\":\\\"M1\\\",\\\"bars\\\":[{\\\"time\\\":1700000000000,\\\"open\\\":1.2340,\\\"high\\\":1.2350,\\\"low\\\":1.2330,\\\"close\\\":1.2345,\\\"volume\\\":123}]}\""
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp POST EA Bars (4102) PS",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-Command",
        "$body = @{ broker='mt5'; symbol='EURUSD'; timeframe='M1'; bars=@(@{ time=1700000000000; open=1.2340; high=1.2350; low=1.2330; close=1.2345; volume=123 }) } | ConvertTo-Json -Depth 6; Invoke-RestMethod -Method Post -Uri 'http://127.0.0.1:4102/api/broker/bridge/mt5/market/bars' -ContentType 'application/json' -Body $body | ConvertTo-Json -Depth 6"
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp POST EA Bars (4102) PS2",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-Command",
        "$body = @{ broker=\"mt5\"; symbol=\"EURUSD\"; timeframe=\"M1\"; bars=@(@{ time=1700000000000; open=1.2340; high=1.2350; low=1.2330; close=1.2345; volume=123 }) } | ConvertTo-Json -Depth 6; Invoke-RestMethod -Method Post -Uri \"http://127.0.0.1:4102/api/broker/bridge/mt5/market/bars\" -ContentType \"application/json\" -Body $body | ConvertTo-Json -Depth 6"
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp POST EA Bars (4102) node-fetch",
      "type": "shell",
      "command": "node",
      "args": [
        "-e",
        "fetch('http://127.0.0.1:4102/api/broker/bridge/mt5/market/bars',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({symbol:'EURUSD',timeframe:'M1',bars:[{time:1700000000000,open:1.2340,high:1.2350,low:1.2330,close:1.2345,volume:123}]})}).then(async r=>{const t=await r.text();console.log(r.status);console.log(t);}).catch(e=>{console.error(e);process.exitCode=1;});"
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp POST EA Bars (4102) node-fetch2",
      "type": "shell",
      "command": "node",
      "args": [
        "-e",
        "fetch(\"http://127.0.0.1:4102/api/broker/bridge/mt5/market/bars\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({symbol:\"EURUSD\",timeframe:\"M1\",bars:[{time:1700000000000,open:1.2340,high:1.2350,low:1.2330,close:1.2345,volume:123}]})}).then(async (r)=>{const t=await r.text();console.log(r.status);console.log(t);}).catch((e)=>{console.error(e);process.exitCode=1;});"
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp Node fetch exists",
      "type": "shell",
      "command": "node",
      "args": ["-e", "console.log('fetchType='+typeof fetch)"],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp Node fetch exists2",
      "type": "shell",
      "command": "node",
      "args": ["-e", "console.log(\"fetchType=\"+typeof fetch)"],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp Node sanity",
      "type": "shell",
      "command": "node",
      "args": ["-p", "1+2"],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp POST EA Bars (4102) file",
      "type": "shell",
      "command": "cmd",
      "args": [
        "/c",
        "curl -s -i -X POST \"http://127.0.0.1:4102/api/broker/bridge/mt5/market/bars\" -H \"Content-Type: application/json\" --data-binary \"@c:\\Users\\wesam\\yy\\.tmp-ea-bars.json\""
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp POST EA Bars (4102) file2",
      "type": "shell",
      "command": "cmd",
      "args": [
        "/c",
        "curl -s -i -X POST http://127.0.0.1:4102/api/broker/bridge/mt5/market/bars -H \"Content-Type: application/json\" --data-binary @c:\\Users\\wesam\\yy\\.tmp-ea-bars.json"
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp POST signal/generate 4102",
      "type": "shell",
      "command": "cmd",
      "args": [
        "/c",
        "curl -s -i -X POST http://127.0.0.1:4102/api/signal/generate -H \"Content-Type: application/json\" -d \"{\\\"pair\\\":\\\"EURUSD\\\"}\""
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp POST EA Bars (4102) PS InFile",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-Command",
        "(Invoke-WebRequest -Method Post -Uri \"http://127.0.0.1:4102/api/broker/bridge/mt5/market/bars\" -ContentType \"application/json\" -InFile \"c:\\Users\\wesam\\yy\\.tmp-ea-bars.json\").Content"
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp POST signal/generate (4102) PS InFile",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-Command",
        "(Invoke-WebRequest -Method Post -Uri \"http://127.0.0.1:4102/api/signal/generate\" -ContentType \"application/json\" -InFile \"c:\\Users\\wesam\\yy\\.tmp-signal-generate.json\").Content"
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp Inspect eaQuote + missingInputs (4102)",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-Command",
        "$resp = (Invoke-WebRequest -Method Post -Uri \"http://127.0.0.1:4102/api/signal/generate\" -ContentType \"application/json\" -InFile \"c:\\Users\\wesam\\yy\\.tmp-signal-generate.json\").Content | ConvertFrom-Json; $q = $resp.signal.components.marketData.eaQuote; if($null -eq $q){ Write-Output \"eaQuote: MISSING\" } else { Write-Output (\"eaQuote: source=\" + $q.source + \" bid=\" + $q.bid + \" ask=\" + $q.ask + \" vol=\" + $q.volume) }; $missing = $resp.signal.components.layeredAnalysis.missingInputs; if($missing){ Write-Output (\"missingInputs: \" + ($missing -join \",\")) } else { Write-Output \"missingInputs: (none)\" }"
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp POST session/connect (4102)",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-Command",
        "(Invoke-WebRequest -Method Post -Uri \"http://127.0.0.1:4102/api/broker/bridge/mt5/session/connect\" -ContentType \"application/json\" -InFile \"c:\\Users\\wesam\\yy\\.tmp-ea-session-connect.json\").Content"
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp Inspect eaQuote + missingInputs (4102) v2",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-Command",
        "$resp = (Invoke-WebRequest -Method Post -Uri \"http://127.0.0.1:4102/api/signal/generate\" -ContentType \"application/json\" -InFile \"c:\\Users\\wesam\\yy\\.tmp-signal-generate.json\").Content | ConvertFrom-Json; $q = $resp.signal.components.marketData.eaQuote; if($null -eq $q){ Write-Output \"eaQuote: MISSING\" } else { Write-Output (\"eaQuote: source=\" + $q.source + \" bid=\" + $q.bid + \" ask=\" + $q.ask + \" vol=\" + $q.volume) }; $missing = $resp.signal.components.layeredAnalysis.missingInputs; if($missing){ Write-Output (\"missingInputs: \" + ($missing -join \",\")) } else { Write-Output \"missingInputs: (none)\" }"
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp Inspect eaQuote JSON (4102)",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-Command",
        "$resp = (Invoke-WebRequest -Method Post -Uri \"http://127.0.0.1:4102/api/signal/generate\" -ContentType \"application/json\" -InFile \"c:\\Users\\wesam\\yy\\.tmp-signal-generate.json\").Content | ConvertFrom-Json; $out = [ordered]@{ eaQuote = $resp.signal.components.marketData.eaQuote; missingInputs = $resp.signal.components.layeredAnalysis.missingInputs }; $out | ConvertTo-Json -Depth 6"
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp GET /api/status 4102",
      "type": "shell",
      "command": "cmd",
      "args": ["/c", "curl -s -i http://127.0.0.1:4102/api/status"],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp Raw signal/generate response (4102)",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-Command",
        "$uri=\"http://127.0.0.1:4102/api/signal/generate\"; $file=\"c:\\Users\\wesam\\yy\\.tmp-signal-generate.json\"; try { $r = Invoke-WebRequest -Method Post -Uri $uri -ContentType \"application/json\" -InFile $file; $code=$r.StatusCode; $content=$r.Content } catch { $resp=$_.Exception.Response; if($resp -and $resp.GetResponseStream()){ $sr=New-Object System.IO.StreamReader($resp.GetResponseStream()); $content=$sr.ReadToEnd(); $code=[int]$resp.StatusCode } else { $code=\"ERR\"; $content=$_.Exception.Message } }; Write-Output (\"status=\"+$code); Write-Output $content"
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp Dump signal/generate content (4102)",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-Command",
        "$r = Invoke-WebRequest -Method Post -Uri \"http://127.0.0.1:4102/api/signal/generate\" -ContentType \"application/json\" -InFile \"c:\\Users\\wesam\\yy\\.tmp-signal-generate.json\"; Write-Output (\"status=\" + $r.StatusCode); $r.Content"
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§¹ Temp Free Port 4102",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-File",
        "scripts/free-ports.ps1",
        "-Ports",
        "4102"
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "build"
    },
    {
      "label": "ðŸ§ª Temp Start Backend 4102 (synthetic no-auth)",
      "type": "shell",
      "command": "cmd",
      "args": [
        "/c",
        "set PORT=4102&& set ENABLE_API_AUTH=false&& set ALLOW_SYNTHETIC_DATA=true&& set REQUIRE_REALTIME_DATA=false&& set NEWS_RSS_ONLY=true&& npm.cmd start"
      ],
      "isBackground": true,
      "problemMatcher": [],
      "group": "build"
    },
    {
      "label": "ðŸ§ª Temp Healthz 4102 (no-auth)",
      "type": "shell",
      "command": "cmd",
      "args": [
        "/c",
        "curl -s -o NUL -w \"http:%{http_code}\\n\" http://127.0.0.1:4102/api/healthz"
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp POST session/connect 4102 (no-auth)",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-Command",
        "(Invoke-WebRequest -Method Post -Uri \"http://127.0.0.1:4102/api/broker/bridge/mt5/session/connect\" -ContentType \"application/json\" -InFile \"c:\\Users\\wesam\\yy\\.tmp-ea-session-connect.json\").Content"
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "ðŸ§ª Temp POST bars 4102 (no-auth)",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-Command",
        "(Invoke-WebRequest -Method Post -Uri \"http://127.0.0.1:4102/api/broker/bridge/mt5/market/bars\" -ContentType \"application/json\" -InFile \"c:\\Users\\wesam\\yy\\.tmp-ea-bars.json\").Content"
      ],
      "isBackground": false,
      "problemMatcher": [],
      "group": "test"
    }
  ]
}
